---
import { addresses } from "@constants/address";
import LocationContent from "@content/LocationContent.astro";
---

<section class="hidden md:block">
  <div class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-20 lg:px-8">
    <div class="max-w-2xl lg:max-w-4xl mx-auto text-center" data-aos="fade-down">
      <h2 class="text-3xl font-extrabold text-gray-900">Visit Our Location</h2>
      <p class="mt-4 text-lg text-gray-500">
        Lorem ipsum dolor sit amet consectetur adipisicing elit.
      </p>
    </div>

    <div class="w-full mx-auto mt-20" data-aos="fade-down">
      <div class="bg-blue-500 p-2 rounded-t-lg">
        <div class="flex justify-center space-x-4" id="content-buttons">
          {
            addresses.map(({ name, city }) => (
              <button class="px-4 py-2 text-white font-semibold border-b-4 border-blue-700 hover:bg-blue-700 focus:outline-none tab-button">
                {city}
              </button>
            ))
          }
        </div>
      </div>
      {
        addresses.map((ad) => (
          <div>
            {ad.id === 1 ? (
              <div class="p-4 tab-content bg-white shadow-md rounded-lg">
                <LocationContent address={ad}/>
              </div>
            ) : (
              <div  class="p-4 tab-content bg-white shadow-md rounded-lg hidden">
                <LocationContent address={ad}/>
              </div>
            )}
          </div>
        ))
      }
    </div>
  </div>
</section>
<style>
  .tab-button.active {
    background-color: #fff;
    border-color: #4299e1;
    color: #4299e1;
  }
</style>
<script>
  const buttons   = document.querySelectorAll("#content-buttons .tab-button");
  const contents  = document.querySelectorAll(".tab-content");

  buttons.forEach((button, index) => {
    button.addEventListener("click", () => {
      contents.forEach((content) => content.classList.add("hidden")); // Ocultar todos los contenidos
      buttons.forEach((btn) => btn.classList.remove("bg-blue-700")); // Remover estilo activo de todos los botones
      contents[index].classList.remove("hidden"); // Mostrar el contenido correspondiente
      button.classList.add("bg-blue-700"); // Añadir estilo activo al botón actual
    });
  });
</script>
